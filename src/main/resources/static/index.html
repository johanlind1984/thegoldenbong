<html>
<head>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.5/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="css/trender.css">
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src="https://cdn.datatables.net/1.13.5/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="javascript/data.js"></script>
    <script src="javascript/fetchTrenderTable.js"></script>
    <script src="javascript/graph.js"></script>
    <script src="javascript/game.js"></script>
    <script src="javascript/tabs.js"></script>

    <script>
        window.onload = function () {
            getGames();
        };

        function reloadData() {
            fetchData();
            fetchMultisetData();
        }
    </script>
</head>
<body>
<div class="sticky-menu">
    <div class="menu-logo">
        <img src="img/trenderlogoblack.jpg">
        <a href="/index.html" class="trender-menu-link">Trender</a>
        <a href="/horse.html" class="trender-menu-link">Horse Graphs</a>
        <a href="/archive.html" class="trender-menu-link">Archive</a>
    </div>
    <div class="menu-text">
    </div>
</div>
<div id="contentContainer">
    <div id="trendTableContainer">
        <h2>Trends</h2>
        <p>
            </br>
            Race: the race the horse is participating in
            <br/>
            VOdds: the difference between the first fetched VOdds and the last fetched VOdds
            </br>
            VDistribution: the difference between the first fetched distribution and last fetched distribution
            </br>
            VOdds %: the difference between the first fetched VOdds and the last fetched VOdds given in percent
            </br>
            VDistribution %: the difference between the first fetched distribution and last fetched distribution given
            in
            percent. 1 = no change.
        </p>

        <div id="gameLinks">
            <form>
                <select id="selectGame">
                </select>
                <select id="selectHours">
                    <option value="0" selected="selected">Last 0 hour</option>
                    <option value="1">Last 1 hour</option>
                    <option value="2">Last 2 hours</option>
                    <option value="3">Last 3 hours</option>
                    <option value="4">Last 4 hours</option>
                    <option value="5">Last 5 hours</option>
                    <option value="6">Last 6 hours</option>
                    <option value="7">Last 7 hours</option>
                    <option value="8">Last 8 hours</option>
                    <option value="9">Last 9 hours</option>
                    <option value="10">Last 10 hours</option>
                    <option value="11">Last 11 hours</option>
                    <option value="12">Last 12 hours</option>
                    <option value="13">Last 13 hours</option>
                    <option value="14">Last 14 hours</option>
                    <option value="15">Last 15 hours</option>
                    <option value="16">Last 16 hours</option>
                    <option value="17">Last 17 hours</option>
                    <option value="18">Last 18 hours</option>
                    <option value="19">Last 19 hours</option>
                    <option value="20">Last 20 hours</option>
                    <option value="21">Last 21 hours</option>
                    <option value="22">Last 22 hours</option>
                    <option value="23">Last 23 hours</option>
                    <option value="24">Last 24 hours</option>
                </select>
                <select id="selectMinutes">
                    <option value="0">Last 0 minutes</option>
                    <option value="5">Last 5 minutes</option>
                    <option value="10">Last 10 minutes</option>
                    <option value="15">Last 15 minutes</option>
                    <option value="20">Last 20 minutes</option>
                    <option value="25">Last 25 minutes</option>
                    <option value="30" selected="selected">Last 30 minutes</option>
                    <option value="35">Last 35 minutes</option>
                    <option value="40">Last 40 minutes</option>
                    <option value="45">Last 45 minutes</option>
                    <option value="50">Last 50 minutes</option>
                    <option value="55">Last 55 minutes</option>
                </select>
                <button type="button" onclick="reloadData()">Update table</button>
            </form>

        </div>

        <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'custom')">Custom time</button>
            <button class="tablinks" onclick="openTab(event, 'multi')">Multitime</button>
        </div>

        <div id="custom" class="tabcontent">

            <table id="trenderTable" class="display">
                <thead style="width: 100%">
                <tr>
                    <th>Race</th>
                    <th>Horse Id</th>
                    <th>Horse Name</th>
                    <th>VDistribution %</th>
                    <th>VDistribution</th>
                    <th>VOdds %</th>
                    <th>VOdds</th>
                    <th>Horse Number</th>
                </tr>
                </thead>
                <tbody id="output">
                </tbody>
            </table>
        </div>

        <div id="multi" class="tabcontent">

            <table id="trenderMultiTable" class="display">
                <thead style="width: 100%">
                <tr>
                    <th>Race</th>
                    <th>Horse Id</th>
                    <th>Horse Name</th>
                    <th>VDistribution 60</th>
                    <th>VDistribution 30</th>
                    <th>VDistribution 15</th>
                    <th>50% 15 min</th>
                    <th>Horse Number</th>
                </tr>
                </thead>
                <tbody id="multioutput">
                </tbody>
            </table>
        </div>
    </div>
    <div id="graphContainer">
    </div>
    <div id="graphHorseContainer">
    </div>
</div>
</body>
</html>